<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>用户</title>
    <link rel="stylesheet" href="../stylesheets/bootstrap.min.css">
    <link rel="stylesheet" href="../stylesheets/hotel-common.css">
</head>
<body>
<div class="con_table">
    <form action="" class="form-inline">
        <div class="form-group"  style="margin-left:20px;">
            <label>账号:</label>
            <input type="text" class="form-control">
            <input type="button" class="btn btn-default" value="查询">
        </div>
        <div class="form-group  pull-right" style="margin-right:20px;">
            <input type="button" class="btn btn-primary" data-toggle="modal" data-target="#addModal" value="新增">
            <input type="button" class="btn btn-primary" id="edit_user" value="编辑">
            <input type="button" class="btn btn-primary" id="delete" value="删除">
        </div>
    </form>
</div>
<div style="margin:0 50px;">
    <table class="table table-striped table-bordered table-hover">
        <thead>
        <tr>
            <th><input type="checkbox" name="sel" id="sel" alt="全选"/></th>
            <th>姓名</th>
            <th>账号</th>
            <th>性别</th>
            <th>电话</th>
            <th>所属酒店</th>
            <th>用户组</th>
            <th>状态</th>
            <th>备注</th>
        </tr>
        </thead>
        <tbody>
        <% users.forEach(function(user){ %>
        <tr>
            <td><input type="checkbox" name="td_sel" class="td_sel" value="<%= user._id %>"/></td>
            <td><%= user.userName %></td>
            <td><%= user.userId %></td>
            <td><%= ({'m':'男','f':'女'})[user.userSex] %></td>
            <td><%= user.userPhone %></td>
            <td><%= user.userHotelCode %></td>
            <td><%= user.userClassCode %></td>
            <td><%= ({'y':'在职','n':'离职'})[user.userStatus] %></td>
            <td><%= user.note %></td>
        </tr>
        <% }) %>
        </tbody>
    </table>
    <div>
        <form action="" class="form-inline">
            共10000条记录，第1/100页
            <div class="input-group">
                <input type="text" class="form-control" >
                        <span class="input-group-btn">
                            <input type="button" class="btn btn-default" value="跳转">
                        </span>
            </div>
            <div class="pull-right">
                <a href="#">首页</a>
                <a href="#">上一页</a>
                <a href="#">下一页</a>
                <a href="#">尾页</a>
            </div>
        </form>
    </div>
</div>

<!-- 新增模态框(Modal) -->
<div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">新增用户信息</h4>
            </div>
            <form action="/authority/user/add" method="post">
                <div class="modal-body">
                    <div>
                        <label for="">姓名:</label>
                        <input type="text" name="userName"/>
                    </div>
                    <div>
                        <label for="">账号:</label>
                        <input type="text" name="userId"/>
                    </div>
                    <div>
                        <label for="">密码:</label>
                        <input type="password" name="userPassword"/>
                    </div>
                    <div>
                        <label for="">性别:</label>
                        <input type="radio" name="userSex" id="male" value="m" checked/><label for="male">男</label>
                        <input type="radio" name="userSex" id="female" value="f"/><label for="female">女</label>
                    </div>
                    <div>
                        <label for="">电话:</label>
                        <input type="text" name="userPhone"/>
                    </div>
                    <div>
                        <label for="">所属酒店:</label>
                        <select name="userHotelCode">
                            <% hotels.forEach(function(hotel){ %>
                            <option value="<%= hotel.hotel_name %>"><%= hotel.hotel_name %></option>
                            <% }) %>
                        </select>
                    </div>
                    <div>
                        <label for="">用户组:</label>
                        <select name="userClassCode">
                            <% usergroups.forEach(function(usergroup){ %>
                            <option value="<%= usergroup.name %>"><%= usergroup.name %></option>
                            <% }) %>
                        </select>
                    </div>
                    <div>
                        <label for="">状态:</label>
                        <input type="radio" name="userStatus" id="userStatus_y" value="y" checked/><label for="userStatus_y">在职</label>
                        <input type="radio" name="userStatus" id="userStatus_n" value="n"/><label for="userStatus_n">离职</label>
                    </div>
                    <div>
                        <label for="">备注:</label>
                        <input type="text" name="note"/>
                    </div>
                </div>
                <div class="modal-footer">
                    <input type="submit" class="btn btn-primary" value="提交"/>
                    <input type="reset" class="btn btn-primary" value="重置"/>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- 编辑模态框(Modal) -->
<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">编辑酒店信息</h4>
            </div>
            <form id="editForm" action="" method="post">
                <div class="modal-body">
                    <div>
                        <label for="">姓名:</label>
                        <input type="text" id="userName_e" name="userName_e"/>
                    </div>
                    <div>
                        <label for="">账号:</label>
                        <input type="text" id="userId_e" name="userId_e"/>
                    </div>
                    <div>
                        <label for="">密码:</label>
                        <input type="password" id="userPassword_e" name="userPassword_e"/>
                    </div>
                    <div>
                        <label for="">性别:</label>
                        <input type="radio" name="userSex_e" id="male_e" value="m" checked/><label for="male_e">男</label>
                        <input type="radio" name="userSex_e" id="female_e" value="f"/><label for="female_e">女</label>
                    </div>
                    <div>
                        <label for="">电话:</label>
                        <input type="text" id="userPhone_e" name="userPhone_e"/>
                    </div>
                    <div>
                        <label for="">所属酒店:</label>
                        <select id="userHotelCode_e" name="userHotelCode_e">
                            <% hotels.forEach(function(hotel){ %>
                            <option value="<%= hotel.hotel_name %>"><%= hotel.hotel_name %></option>
                            <% }) %>
                        </select>
                    </div>
                    <div>
                        <label for="">用户组:</label>
                        <select id="userClassCode_e" name="userClassCode_e">
                            <% usergroups.forEach(function(usergroup){ %>
                            <option value="<%= usergroup.name %>"><%= usergroup.name %></option>
                            <% }) %>
                        </select>
                    </div>
                    <div>
                        <label for="">状态:</label>
                        <input type="radio" name="userStatus_e" id="userStatus_y_e" value="y" checked/><label for="userStatus_y_e">在职</label>
                        <input type="radio" name="userStatus_e" id="userStatus_n_e" value="n"/><label for="userStatus_n_e">离职</label>
                    </div>
                    <div>
                        <label for="">备注:</label>
                        <input type="text" id="note_e" name="note_e"/>
                    </div>
                </div>
                <div class="modal-footer">
                    <input type="submit" class="btn btn-primary" value="更新"/>
                </div>
            </form>
        </div>
    </div>
</div>

<script type="text/javascript" src="../javascripts/jquery-1.12.0.min.js"></script>
<script type="text/javascript" src="../javascripts/bootstrap.min.js"></script>
<script type="text/javascript" src="../javascripts/hotel-common.js"></script>
</body>
</html>